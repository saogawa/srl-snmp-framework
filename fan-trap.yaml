# /etc/opt/srlinux/snmp/scripts/fan-trap.yaml
python-script: fan-trap.py
enabled: true
debug: true

traps:
  - name: tmnxPhysChassisFanOperStatus
    enabled: true
    oid: .1.3.6.1.4.1.6527.3.1.2.2.1.24.1.1.2
    triggers:
      - /platform/fan-tray[id=*]/oper-state
    context:
      - /platform/fan-tray
    data:
      - indexes:
          - name: fanTrayID
            syntax: integer
        objects:
          - name: fanTrayID
            oid: .1.3.6.1.4.1.6527.3.1.2.2.1.24.1.1.2.1
            syntax: integer
          - name: fanTrayOperState
            oid: .1.3.6.1.4.1.6527.3.1.2.2.1.24.1.1.2.2
            syntax: integer