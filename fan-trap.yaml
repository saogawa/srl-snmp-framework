# /etc/opt/srlinux/snmp/scripts/fan_trap.yaml
python-script: fan_trap.py
enabled: true
debug: true

traps:
  - name: FanTrayDown
    enabled: true
    oid: 1.3.6.1.4.1.6527.115.114.108.105.110.117.120.10.1
    triggers:
      - /platform/fan-tray[id=*]/oper-state
    context:
      - /platform/fan-tray
    data:
      - indexes:
          - name: fanTrayID
            syntax: octet string
        objects:
          - name: fanTrayID
            oid: 1.3.6.1.4.1.6527.115.114.108.105.110.117.120.10.2
            syntax: octet string
          - name: fanTrayOperState
            oid: 1.3.6.1.4.1.6527.115.114.108.105.110.117.120.10.3
            syntax: integer

  - name: FanTrayUp
    enabled: true
    oid: 1.3.6.1.4.1.6527.115.114.108.105.110.117.120.10.4
    startup: true
    triggers:
      - /platform/fan-tray[id=*]/oper-state
    context:
      - /platform/fan-tray
    data:
      - indexes:
          - name: fanTrayID
            syntax: octet string
        objects:
          - name: fanTrayID
            oid: 1.3.6.1.4.1.6527.115.114.108.105.110.117.120.10.5
            syntax: octet string
          - name: fanTrayOperState
            oid: 1.3.6.1.4.1.6527.115.114.108.105.110.117.120.10.6
            syntax: integer
